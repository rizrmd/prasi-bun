{"mappings":"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","sources":["src/base/page/live.tsx","../../node_modules/uuid/dist/esm-browser/validate.js","../../node_modules/uuid/dist/esm-browser/regex.js","src/render/live/live.tsx","../../node_modules/ua-parser-js/src/ua-parser.js","src/render/live/elements/l-page.tsx","src/render/live/logic/global.ts","src/render/live/elements/l-section.tsx","src/render/live/elements/l-item.tsx","src/render/live/elements/l-render.tsx","src/render/live/logic/route.ts","src/render/live/logic/tree-prop.tsx","src/render/live/logic/tree-scope.tsx","src/render/live/elements/l-text.tsx","src/render/live/logic/init.tsx","src/render/editor/logic/global.ts"],"sourcesContent":["import { validate } from \"uuid\";\nimport { page } from \"web-utils\";\nimport { Live } from \"../../render/live/live\";\nimport { defaultLoader } from \"../../render/live/logic/default-loader\";\n\nexport default page({\n  url: \"/live/:domain/**\",\n  component: ({}) => {\n    params.site_id = params.domain;\n    if (validate(params._)) {\n      params.page_id = params._;\n    }\n\n    navigator.serviceWorker.controller?.postMessage({\n      type: \"add-cache\",\n      url: location.href,\n    });\n\n    return (\n      <Live\n        mode={\"dev\"}\n        domain={params.domain}\n        pathname={`/${params._ === \"_\" ? \"\" : params._}`}\n        loader={defaultLoader}\n      />\n    );\n  },\n});\n","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import { FC, useCallback, useEffect } from \"react\";\nimport parseUA from \"ua-parser-js\";\nimport { useGlobal } from \"web-utils\";\nimport { LPage } from \"./elements/l-page\";\nimport { LiveGlobal, Loader } from \"./logic/global\";\nimport { initLive, w } from \"./logic/init\";\nimport { preload, routeLive } from \"./logic/route\";\n\nexport const Live: FC<{\n  domain: string;\n  pathname: string;\n  loader: Loader;\n  mode: \"dev\" | \"prod\";\n}> = ({ domain, pathname, loader, mode = \"dev\" }) => {\n  const p = useGlobal(LiveGlobal, \"LIVE\");\n  p.loader = loader;\n\n  w.preload = (url: string) => {\n    preload(p, url);\n  };\n\n  if (mode === \"prod\") p.prod = true;\n\n  if (p.site.id) {\n    if (!p.mode && !!p.site.responsive) {\n      if (p.site.responsive === \"all\") {\n        const parsed = parseUA();\n        p.mode = parsed.device.type === \"mobile\" ? \"mobile\" : \"desktop\";\n        if (localStorage.getItem(\"prasi-editor-mode\")) {\n          p.mode = localStorage.getItem(\"prasi-editor-mode\") as any;\n        }\n      } else if (p.site.responsive === \"mobile-only\") {\n        p.mode = \"mobile\";\n      } else if (p.site.responsive === \"desktop-only\") {\n        p.mode = \"desktop\";\n      }\n    }\n  }\n  const onResize = useCallback(() => {\n    let newmode = p.mode;\n    if (window.innerWidth < 600) newmode = \"mobile\";\n    else newmode = \"desktop\";\n\n    if (newmode !== p.mode) {\n      p.mode = newmode;\n      p.render();\n    }\n  }, [p]);\n\n  useEffect(() => {\n    if (p.site.id) {\n      window.removeEventListener(\"resize\", onResize);\n\n      if (p.site.responsive === \"all\") {\n        window.addEventListener(\"resize\", onResize);\n      }\n    }\n  }, [p.site.responsive]);\n\n  if (p.status === \"init\") {\n    initLive(p, domain);\n  }\n\n  if (p.site.id) {\n    routeLive(p, pathname);\n  }\n  return <LPage />;\n};\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.36\n   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.36',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        VIERA   = 'Viera',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram|snapchat)[\\/ ]([-\\w\\.]+)/i                     // Chromium/Instagram/Snapchat\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+|m2\\d{3}j\\d\\d[a-z]{2})(?: bui|\\))/i,                  // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w+)( bui|\\))/i                                         // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /(?:ios;fbsv\\/|iphone.+ios[\\/ ])([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { useGlobal } from \"web-utils\";\nimport { LiveGlobal } from \"../logic/global\";\nimport { LSection } from \"./l-section\";\nimport { Loading } from \"../../../utils/ui/loading\";\n\nexport const LPage = () => {\n  const p = useGlobal(LiveGlobal, \"LIVE\");\n  const mode = p.mode;\n\n  let childs = Object.values(p.page?.content_tree.childs || []);\n  if (p.layout.section && p.layout.content) {\n    childs = [p.layout.section];\n  }\n\n  const rootChilds: string[] | undefined = Object.values(childs).map(\n    (e) => e.id\n  );\n\n  return (\n    <div className={cx(\"relative flex flex-1 items-center justify-center\")}>\n      <div\n        className={cx(\n          \"absolute flex flex-col items-stretch flex-1 bg-white \",\n          mode === \"mobile\"\n            ? css`\n                @media (min-width: 768px) {\n                  border-left: 1px solid #ccc;\n                  border-right: 1px solid #ccc;\n                  width: 375px;\n                  top: 0px;\n                  overflow-x: hidden;\n                  overflow-y: auto;\n                  bottom: 0px;\n                }\n                @media (max-width: 767px) {\n                  left: 0px;\n                  right: 0px;\n                  top: 0px;\n                  bottom: 0px;\n                  overflow-y: auto;\n                }\n              `\n            : \"inset-0 overflow-auto\",\n\n          css`\n            contain: content;\n          `\n        )}\n      >\n        {p.status === \"ready\" || p.status === \"tree-rebuild\" ? (\n          rootChilds?.map((id) => <LSection key={id} id={id} />)\n        ) : (\n          <Loading />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport const mobileCSS = css`\n  background-color: white;\n  background-image: linear-gradient(45deg, #fafafa 25%, transparent 25%),\n    linear-gradient(-45deg, #fafafa 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #fafafa 75%),\n    linear-gradient(-45deg, transparent 75%, #fafafa 75%);\n\n  background-size: 20px 20px;\n  background-position:\n    0 0,\n    0 10px,\n    10px -10px,\n    -10px 0px;\n`;\n","import { FC } from \"react\";\nimport { createRouter } from \"radix3\";\nimport { CompDoc } from \"../../../base/global/content-editor\";\nimport { IContent, MContent, MPage } from \"../../../utils/types/general\";\nimport { IItem, MItem } from \"../../../utils/types/item\";\nimport { PRASI_COMPONENT } from \"../../../utils/types/render\";\nimport { IRoot } from \"../../../utils/types/root\";\nimport { ISection } from \"../../../utils/types/section\";\nimport { IText } from \"../../../utils/types/text\";\n\ntype WithRequired<T, K extends keyof T> = T & { [P in K]-?: T[P] };\nexport type ItemMeta = {\n  item: IContent;\n  scope?: any;\n  scopeAttached?: any;\n  comp?: {\n    id: string;\n    propval?: any;\n    mcomp?: MItem;\n    child_ids: Record<string, string>;\n  };\n  className?: string;\n  parent_id: string;\n  parent_comp?: WithRequired<ItemMeta, \"comp\"> & { item: IItem };\n  memoize?: {\n    Local: FC<any>;\n    PassProp: FC<any>;\n  };\n  render?: () => void;\n};\n\nexport type LPage = {\n  id: string;\n  name: string;\n  url: string;\n  content_tree: IRoot;\n  js: string;\n};\n\nexport type LSite = {\n  id: string;\n  api_url: string;\n  api_prasi: {\n    port: string;\n    db: string;\n  };\n  responsive: \"all\" | \"mobile-only\" | \"desktop-only\";\n  domain: string;\n  name: string;\n  js: string;\n  js_compiled: string;\n  layout?: ISection;\n  layout_id?: string;\n  cgroup_ids?: string[];\n  config?: any;\n};\nexport type Loader = {\n  site: (\n    p: PG,\n    where: { domain: string } | { id: string }\n  ) => Promise<LSite | null>;\n  page: (p: PG, id: string) => Promise<LPage | null>;\n  pages: (p: PG, site_id: string) => Promise<LPage[]>;\n  npm: (p: PG, type: \"site\" | \"page\", id: string) => string;\n  comp: (p: PG, id: string) => Promise<PRASI_COMPONENT>;\n};\nexport const LiveGlobal = {\n  prod: false,\n  loader: undefined as unknown as Loader,\n  mode: \"\" as \"desktop\" | \"mobile\",\n  layout: {\n    section: null as null | ISection,\n    content: null as null | IItem | IText,\n  },\n  status: \"init\" as\n    | \"init\"\n    | \"loading\"\n    | \"reload\"\n    | \"ready\"\n    | \"not-found\"\n    | \"error\"\n    | \"tree-rebuild\",\n  site: {\n    id: \"\",\n    api_url: \"\",\n    api_prasi: {\n      port: \"\",\n      db: \"\",\n    },\n    responsive: \"all\" as \"all\" | \"mobile-only\" | \"desktop-only\",\n    domain: \"\",\n    name: \"\",\n    js: \"\",\n    js_compiled: \"\",\n  } as LSite,\n  page: null as null | LPage,\n  mpage: null as null | MPage,\n  mpageLoaded: null as null | ((mpage: MPage) => void),\n  pagePreload: {} as Record<string, true>,\n  pages: {} as Record<string, LPage>,\n  route: createRouter<{\n    id: string;\n    url: string;\n  }>(),\n  treeMeta: {} as Record<string, ItemMeta>,\n  comps: {\n    pending: {} as Record<string, Promise<PRASI_COMPONENT>>,\n    resolve: {} as Record<string, (comp: PRASI_COMPONENT) => void>,\n    doc: {} as Record<string, CompDoc>,\n    all: {} as Record<string, PRASI_COMPONENT>,\n  },\n  script: {\n    db: null as any,\n    api: null as any,\n  },\n  compInstance: {} as Record<string, Record<string, string>>,\n  ws: null as null | WebSocket,\n  wsRetry: {\n    fast: false,\n    localIP: false,\n    disabled: false,\n    reconnecting: false,\n  },\n};\n\nexport type PG = typeof LiveGlobal & { render: () => void };\n","import { FC } from \"react\";\nimport { LItem } from \"./l-item\";\nimport { LRender } from \"./l-render\";\n\nexport const LSection: FC<{ id: string }> = ({ id }) => {\n  return (\n    <LRender id={id}>\n      {(childs) =>\n        childs.map((e) => {\n          return <LItem id={e.id} key={e.id} />;\n        })\n      }\n    </LRender>\n  );\n};\n","import { FC } from \"react\";\nimport { LRender } from \"./l-render\";\nimport { LText } from \"./l-text\";\n\nexport const LItem: FC<{\n  id: string;\n  fromProp?: boolean;\n}> = ({ id, fromProp }) => {\n\n  return (\n    <LRender id={id} fromProp={fromProp}>\n      {(childs) => {\n        return childs.map((e) => {\n          if (e.type === \"item\") {\n            return <LItem id={e.id} key={e.id} fromProp={fromProp} />;\n          } else {\n            return <LText id={e.id} key={e.id} fromProp={fromProp} />;\n          }\n        });\n      }}\n    </LRender>\n  );\n};\n","import { FC, ReactNode, useState } from \"react\";\nimport { useGlobal } from \"web-utils\";\nimport { produceCSS } from \"../../../utils/css/gen\";\nimport { IContent } from \"../../../utils/types/general\";\nimport { FNAdv, FNCompDef, FNLinkTag } from \"../../../utils/types/meta-fn\";\nimport { responsiveVal } from \"../../editor/tools/responsive-val\";\nimport { LiveGlobal } from \"../logic/global\";\nimport { preload } from \"../logic/route\";\nimport { treePropEval } from \"../logic/tree-prop\";\nimport { treeScopeEval } from \"../logic/tree-scope\";\nimport { LTextInternal } from \"./l-text\";\n\nexport const LRender: FC<{\n  id: string;\n  children?: (childs: IContent[]) => ReactNode;\n  fromProp?: boolean;\n}> = ({ id, children }) => {\n  const [_, render] = useState({});\n  const p = useGlobal(LiveGlobal, \"LIVE\");\n  const meta = p.treeMeta[id];\n\n  if (!meta) {\n    return null;\n  }\n\n  meta.render = () => {\n    render({});\n  };\n  let item = meta.item;\n\n  if (item.hidden) {\n    return null;\n  }\n\n  if (meta.comp?.id) {\n    const comp = meta.comp;\n\n    let props = {} as Record<string, FNCompDef>;\n    let cprops = {} as [string, FNCompDef][];\n\n    if (meta.comp.mcomp) {\n      props = meta.comp.mcomp\n        .get(\"component\")\n        ?.get(\"props\")\n        ?.toJSON() as Record<string, FNCompDef>;\n\n      cprops = Object.entries(props).sort((a, b) => {\n        return a[1].idx - b[1].idx;\n      });\n    } else {\n      props = structuredClone(\n        p.comps.all[meta.comp.id]?.content_tree.component?.props || {}\n      );\n      cprops = Object.entries(props);\n    }\n\n    comp.propval = treePropEval(p, meta, cprops);\n  }\n\n  let _children = null;\n\n  if (children) {\n    if (item.type === \"text\") _children = children([]);\n    else {\n      _children = children(item.childs || []);\n    }\n  }\n\n  meta.className = produceCSS(item, {\n    mode: p.mode,\n  });\n\n  const className = meta.className;\n  const adv = item.adv;\n\n  if (!(adv?.jsBuilt && adv?.js) && (meta.scopeAttached || meta.comp)) {\n    return treeScopeEval(\n      p,\n      meta,\n      _children,\n      `render(React.createElement(\"div\",{...props},children));`\n    );\n  }\n\n  if (adv) {\n    if (adv.html) {\n      const html = renderHTML(className, adv);\n      if (html) return html;\n    } else if (adv.jsBuilt && adv.js) {\n      const el = treeScopeEval(p, meta, _children, adv.jsBuilt);\n      return el;\n    }\n  }\n  const linktag = responsiveVal<FNLinkTag>(item, \"linktag\", p.mode, {});\n  const isComponent = item.type === \"item\" && item.component?.id;\n\n  if (linktag && linktag.link && !isComponent) {\n    let href = linktag.link || \"\";\n    if (href.startsWith(\"/\")) {\n      preload(p, href);\n      if (\n        (location.pathname.startsWith(\"/preview/\") ||\n          location.pathname.startsWith(\"/site/\")) &&\n        [\"localhost\", \"127.0.0.1\", \"prasi.app\"].includes(location.hostname)\n      ) {\n        const parts = location.pathname.split(\"/\");\n        if (parts.length >= 3) {\n          href = `/${parts[1]}/${parts[2]}${href}`;\n        }\n      }\n    }\n\n    const props = {\n      className: className,\n      href: href,\n      onClick: (e: any) => {\n        e.preventDefault();\n        if (href.startsWith(\"/\")) {\n          navigate(href);\n        } else {\n          location.href = href;\n        }\n      },\n    };\n\n    if (item.type === \"text\") {\n      return (\n        <a\n          {...props}\n          dangerouslySetInnerHTML={{ __html: item.html || item.text }}\n        />\n      );\n    }\n    return <a {...props}>{_children}</a>;\n  }\n\n  if (item.type === \"text\") {\n    return (\n      <LTextInternal\n        key={item.id}\n        className={className}\n        item={item}\n        p={p}\n        _children={item.html || item.text}\n      />\n    );\n  }\n\n  return (\n    <div className={className}>\n      {/* <pre className={\"text-[9px] font-mono text-black\"}>\n        {item.id}-{item.name}\n        {item.name === \"coba\" && JSON.stringify(item.childs)}\n      </pre> */}\n      {_children}\n    </div>\n  );\n};\n\nexport const renderHTML = (className: string, adv: FNAdv) => {\n  if (adv.html) {\n    return (\n      <div\n        className={className}\n        dangerouslySetInnerHTML={{ __html: adv.html }}\n      ></div>\n    );\n  }\n  return null;\n};\n","import { page } from \"dbgen\";\nimport { validate } from \"uuid\";\nimport { w } from \"../../../utils/types/general\";\nimport { WS_MSG_GET_PAGE } from \"../../../utils/types/ws\";\nimport importModule from \"../../editor/tools/dynamic-import\";\nimport { loadComponent } from \"./comp\";\nimport { LPage, LiveGlobal, PG } from \"./global\";\nimport { liveWS, wsend } from \"./ws\";\nimport { rebuildTree } from \"./tree-logic\";\n\nconst cacheMeta = {} as Record<string, (typeof LiveGlobal)[\"treeMeta\"]>;\n\nexport const routeLive = (p: PG, pathname: string) => {\n  if (p.status !== \"loading\") {\n    let page_id = \"\";\n    if (validate(pathname.substring(1))) {\n      page_id = pathname.substring(1);\n    } else {\n      const found = p.route.lookup(pathname);\n\n      if (!found) {\n        p.status = \"not-found\";\n      } else {\n        if (!w.params) w.params = {};\n        if (found.params) {\n          for (const [k, v] of Object.entries(found.params)) {\n            w.params[k] = v;\n          }\n        }\n        page_id = found.id;\n      }\n    }\n\n    if (page_id) {\n      (window as any).prasiPageID = page_id;\n      const promises: Promise<void>[] = [];\n      let hasCache = false;\n      if (page_id !== p.page?.id) {\n        if (p.page) {\n          cacheMeta[p.page.id] = p.treeMeta;\n        }\n\n        p.page = p.pages[page_id];\n\n        if (p.page && cacheMeta[p.page.id]) {\n          p.treeMeta = cacheMeta[p.page.id];\n          hasCache = true;\n        } else {\n          p.treeMeta = {};\n        }\n      }\n      if (!p.page || !p.page.content_tree) {\n        promises.push(loadNpmPage(p, page_id));\n        p.status = \"loading\";\n\n        if (!p.prod) {\n          promises.push(streamPage(p, page_id));\n        } else {\n          promises.push(loadPage(p, page_id));\n        }\n      } else {\n        if (!p.prod) {\n          streamPage(p, page_id);\n        }\n      }\n\n      if (promises.length > 0) {\n        Promise.all(promises).then(async () => {\n          await pageLoaded(p);\n          p.status = \"ready\";\n          p.render();\n        });\n      } else {\n        if (p.prod && !hasCache && !firstRender[page_id]) {\n          firstRender[page_id] = true;\n          pageLoaded(p).then(p.render);\n        } else {\n          if (!p.prod) {\n            pageLoaded(p).then(() => {\n              if (stream.page_id !== page_id) {\n                stream.page_id = page_id;\n                p.render();\n              }\n            });\n          } else {\n            pageLoaded(p);\n          }\n        }\n      }\n    }\n  }\n};\nconst firstRender = {} as Record<string, true>;\n\nconst pageLoaded = async (p: PG) => {\n  if (p.page) {\n    await rebuildTree(p, { render: false, note: \"render\", reset: false });\n    p.status = \"ready\";\n  } else {\n    p.status = \"not-found\";\n  }\n};\n\nexport const preload = async (p: PG, pathname: string) => {\n  const found = p.route.lookup(pathname);\n  if (found) {\n    if (!p.pages[found.id] && !p.pagePreload[found.id]) {\n      p.pagePreload[found.id] = true;\n      const dbpage = await p.loader.page(p, found.id);\n      if (dbpage) {\n        p.pages[dbpage.id] = dbpage;\n        const page = p.pages[dbpage.id];\n        if (page && page.content_tree) {\n          await loadComponent(p, page.content_tree);\n        }\n        delete p.pagePreload[found.id];\n        await loadNpmPage(p, dbpage.id);\n      }\n    }\n  }\n};\n\nconst npmPageLoaded = {} as Record<string, true>;\nconst loadNpmPage = async (p: PG, id: string) => {\n  try {\n    if (!npmPageLoaded[id]) {\n      npmPageLoaded[id] = true;\n      if (typeof window.exports === \"undefined\") {\n        window.exports = {};\n      }\n      await importModule(p.loader.npm(p, \"page\", id));\n    }\n  } catch (e) {\n    console.error(e);\n  }\n};\n\nconst loading = {} as Record<string, Promise<LPage | null>>;\n\nconst loadPage = async (p: PG, id: string) => {\n  if (!loading[id]) {\n    loading[id] = p.loader.page(p, id);\n  }\n\n  const page = await loading[id];\n\n  if (page) {\n    p.pages[page.id] = {\n      id: page.id,\n      url: page.url,\n      name: page.name,\n      content_tree: page.content_tree as any,\n      js: (page as any).js_compiled as any,\n    };\n\n    const cur = p.pages[page.id];\n    if (cur && cur.content_tree) {\n      await loadComponent(p, cur.content_tree);\n    }\n  }\n};\n\nconst stream = { page_id: \"\" };\n\nconst streamPage = (p: PG, id: string) => {\n  return new Promise<void>(async (resolve) => {\n    await liveWS(p);\n    p.mpageLoaded = async (mpage) => {\n      const dbpage = mpage.getMap(\"map\").toJSON() as page;\n      p.pages[dbpage.id] = {\n        id: dbpage.id,\n        url: dbpage.url,\n        name: dbpage.name,\n        content_tree: dbpage.content_tree as any,\n        js: dbpage.js_compiled as any,\n      };\n      const page = p.pages[dbpage.id];\n      if (page && page.content_tree) {\n        await loadComponent(p, page.content_tree);\n      }\n      resolve();\n    };\n    wsend(\n      p,\n      JSON.stringify({\n        type: \"get_page\",\n        page_id: id,\n      } as WS_MSG_GET_PAGE)\n    );\n  });\n};\n\nexport const extractNavigate = (str: string) => {\n  let i = 0;\n  const nstr = \"navigate(\";\n  const founds: string[] = [];\n  let lasti = 0;\n  while (true) {\n    const start = str.indexOf(nstr, i);\n    lasti = i;\n    if (start >= 0) {\n      const char = str[start + nstr.length];\n      if (char === '\"' || char === \"'\" || char === \"`\") {\n        const end = str.indexOf(`${char})`, start + nstr.length + 1);\n        const text = str.substring(start + nstr.length + 1, end);\n        i = end + 3;\n        founds.push(text);\n      }\n    }\n\n    if (lasti === i) {\n      break;\n    }\n  }\n\n  return founds;\n};\n","import { FC } from \"react\";\nimport { createAPI, createDB } from \"../../../utils/script/init-api\";\nimport { FNCompDef } from \"../../../utils/types/meta-fn\";\nimport { ItemMeta, PG } from \"./global\";\nimport { mergeScopeUpwards } from \"./tree-scope\";\nimport { LItem } from \"../elements/l-item\";\nimport { extractNavigate, preload } from \"./route\";\n\nexport type PropCompFC = FC<{}>;\n\nconst jsxProps = {} as Record<string, any>;\nexport const treePropEval = (\n  p: PG,\n  meta: ItemMeta,\n  cprops: [string, FNCompDef][]\n) => {\n  if (meta.item.type === \"item\" && meta.item.component) {\n    if (p.site.api_url) {\n      if (!p.script.db) p.script.db = createDB(p.site.api_url);\n      if (!p.script.api) p.script.api = createAPI(p.site.api_url);\n    }\n\n    const props = meta.item.component.props;\n\n    const w = window as any;\n    const finalScope = mergeScopeUpwards(p, meta);\n    const args = {\n      ...w.exports,\n      ...finalScope,\n      db: p.script.db,\n      api: p.script.api,\n    };\n\n    const result: any = {};\n    for (const [name, _prop] of cprops) {\n      const prop = props[name] || _prop;\n\n      let value: any = null;\n      if (prop.valueBuilt) {\n        const fn = new Function(\n          ...Object.keys(args),\n          `return ${prop.valueBuilt}`\n        );\n        try {\n          value = fn(...Object.values(args)) || null;\n\n          const navs = extractNavigate(prop.valueBuilt || \"\");\n          if (navs.length > 0) {\n            navs.map((nav) => preload(p, nav));\n          }\n        } catch (e) {\n          const cname = meta.item.name;\n          console.warn(e);\n          console.warn(\n            `ERROR in Component [${cname}], in prop [${name}]:\\n ` + prop.value\n          );\n        }\n      }\n\n      if (prop.meta?.type === \"content-element\") {\n        if (!(typeof value === \"object\" && !!value && value._jsx)) {\n          const id = `${meta.item.id}-${name}`;\n          if (!jsxProps[id]) {\n            jsxProps[id] = {\n              _jsx: true,\n              Comp: ({ parent_id }: { parent_id: string }) => {\n                if (prop.content) {\n                  const meta = p.treeMeta[parent_id];\n                  const scopes: { meta: ItemMeta; value: any }[] = [];\n                  mergeScopeUpwards(p, meta, {\n                    each: (m, val) => {\n                      scopes.push({ meta: m, value: val });\n                      return true;\n                    },\n                  });\n\n                  if (p.treeMeta[prop.content.id]) {\n                    p.treeMeta[prop.content.id].scopeAttached = scopes;\n                  }\n\n                  return <LItem id={prop.content.id} fromProp={true} />;\n                }\n                return <></>;\n              },\n            };\n          }\n          value = jsxProps[id];\n        }\n      }\n\n      result[name] = value;\n    }\n\n    return result;\n  }\n};\n","import { FC, ReactNode, Suspense, useEffect } from \"react\";\nimport { deepClone } from \"web-utils\";\nimport { createAPI, createDB } from \"../../../utils/script/init-api\";\nimport { ErrorBox } from \"../../editor/elements/e-error\";\nimport { ItemMeta, PG } from \"./global\";\nimport { extractNavigate, preload } from \"./route\";\n\nexport const JS_DEBUG = false;\n\nexport const treeScopeEval = (\n  p: PG,\n  meta: ItemMeta,\n  children: ReactNode,\n  js: string\n) => {\n  const className = meta.className;\n\n  let item = meta.item;\n\n  const adv = item.adv;\n  let args = {};\n  try {\n    if (!meta.memoize) {\n      meta.memoize = {\n        Local: createLocal(p, meta),\n        PassProp: createPassProp(p, meta),\n      };\n    }\n\n    if (typeof adv?.js === \"string\") {\n      const navs = extractNavigate(adv.js || \"\");\n      if (navs.length > 0) {\n        navs.map((nav) => preload(p, nav));\n      }\n    }\n\n    // prepare args\n    if (p.site.api_url) {\n      if (!p.script.db) p.script.db = createDB(p.site.api_url);\n      if (!p.script.api) p.script.api = createAPI(p.site.api_url);\n    }\n    const w = window as any;\n\n    const finalScope = mergeScopeUpwards(p, meta);\n\n    for (const [k, v] of Object.entries(finalScope)) {\n      if (v && typeof v === \"object\") {\n        const t: { _jsx: true; Comp: FC<{ parent_id: string }> } = v as any;\n        if (t._jsx && t.Comp) {\n          finalScope[k] = <t.Comp parent_id={meta.item.id} />;\n        }\n      }\n    }\n\n    const output = { jsx: null as any };\n    args = {\n      ...w.exports,\n      ...finalScope,\n      ...meta.memoize,\n      db: p.script.db,\n      api: p.script.api,\n      children,\n      props: { className },\n      useEffect: useEffect,\n      render: (jsx: ReactNode) => {\n        output.jsx = (\n          <ErrorBox>\n            <Suspense>{jsx}</Suspense>\n          </ErrorBox>\n        );\n      },\n    };\n\n    try {\n      // execute\n      const fn = new Function(...Object.keys(args), js);\n      const res = fn(...Object.values(args));\n      if (res instanceof Promise) {\n        res.catch((e: any) => {\n          console.warn(e);\n          console.warn(\n            (\n              `ERROR in ${item.type} [${item.name}]:\\n ` +\n              ((adv?.js || \"\") as any)\n            ).trim()\n          );\n          console.warn(`Available var:`, args, `\\n\\n`);\n        });\n      }\n    } catch (e) {\n      console.error(e);\n    }\n\n    return output.jsx;\n  } catch (e) {\n    console.warn(e);\n    console.warn(\n      (\n        `ERROR in ${item.type} [${item.name}]:\\n ` + ((adv?.js || \"\") as any)\n      ).trim()\n    );\n    console.warn(`Available var:`, args, `\\n\\n`);\n  }\n};\n\nexport const mergeScopeUpwards = (\n  p: PG,\n  meta: ItemMeta,\n  opt?: {\n    debug?: boolean;\n    each?: (meta: ItemMeta, values: Record<string, any>) => boolean;\n  }\n) => {\n  if (!meta.scope) {\n    meta.scope = {};\n  }\n\n  let cur = meta;\n\n  const finalScope: any = {};\n\n  while (cur) {\n    let scope = null;\n\n    if (cur.scopeAttached) {\n      for (const s of cur.scopeAttached) {\n        if (s.value) {\n          for (const [k, v] of Object.entries(s.value)) {\n            if (typeof finalScope[k] === \"undefined\") finalScope[k] = v;\n          }\n\n          if (opt?.each) {\n            if (!opt.each(s.meta, s.value)) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    if (cur.scope || cur.comp?.propval) {\n      scope = { ...cur.scope, ...cur.comp?.propval };\n\n      for (const [k, v] of Object.entries(scope)) {\n        if (typeof finalScope[k] === \"undefined\") finalScope[k] = v;\n      }\n      if (opt?.each) {\n        if (!opt.each(cur, scope)) {\n          break;\n        }\n      }\n    }\n\n    cur = p.treeMeta[cur.parent_id];\n  }\n\n  return finalScope;\n};\n\nconst createPassProp = (p: PG, meta: ItemMeta) => {\n  return (arg: Record<string, any> & { children: ReactNode }) => {\n    if (!meta.scope) {\n      meta.scope = {};\n    }\n    for (const [k, v] of Object.entries(arg)) {\n      if (k === \"children\") continue;\n      meta.scope[k] = v;\n    }\n\n    return arg.children;\n  };\n};\n\nconst cachedLocal = {} as Record<string, Record<string, any>>;\nconst cachedPath = {} as Record<string, Record<string, any>>;\n\nconst createLocal = (p: PG, meta: ItemMeta) => {\n  const Local = ({\n    name,\n    value,\n    effect,\n    children,\n    hook,\n    deps,\n    cache,\n  }: {\n    name: string;\n    value: any;\n    effect?: (value: any) => void | Promise<void>;\n    children: ReactNode;\n    hook?: (value: any) => void;\n    deps?: any[];\n    cache?: boolean;\n  }) => {\n    if (!meta.scope) {\n      meta.scope = {};\n    }\n    const genScope = () => {\n      try {\n        const nval = deepClone(value);\n        const render = () => {\n          if (meta.render) meta.render();\n          else p.render();\n        };\n        if (!meta.scope[name]) {\n          meta.scope[name] = {\n            ...nval,\n            render,\n          };\n        } else {\n          for (const [k, v] of Object.entries(nval)) {\n            meta.scope[name][k] = v;\n          }\n          meta.scope[name].render = render;\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    };\n\n    const page_id = p.page?.id;\n    if (page_id) {\n      if (!cachedLocal[page_id]) {\n        cachedLocal[page_id] = {};\n      }\n      if (!cachedPath[page_id]) {\n        cachedPath[page_id] = {};\n      }\n      const itemid = meta.item.id;\n      if (cachedLocal[page_id][itemid]) {\n        if (cache === false && cachedPath[page_id][itemid] !== location.href) {\n          cachedPath[page_id][itemid] = location.href;\n          genScope();\n          cachedLocal[page_id][itemid] = meta.scope[name];\n        } else {\n          meta.scope[name] = cachedLocal[page_id][itemid];\n          meta.scope[name].render = () => {\n            if (meta.render) meta.render();\n            else p.render();\n          };\n        }\n      } else {\n        genScope();\n        cachedLocal[page_id][itemid] = meta.scope[name];\n        cachedPath[page_id][itemid] = location.href;\n      }\n    }\n\n    if (typeof hook === \"function\") {\n      try {\n        hook(meta.scope[name]);\n      } catch (e) {\n        console.warn(e);\n      }\n    }\n\n    useEffect(() => {\n      if (effect) {\n        try {\n          effect(meta.scope[name]);\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n    }, [...(deps || []), location.href]);\n\n    return children;\n  };\n\n  return Local;\n};\n","import { FC } from \"react\";\nimport { IText } from \"../../../utils/types/text\";\nimport { PG } from \"../logic/global\";\nimport { LRender } from \"./l-render\";\n\nexport const LText: FC<{\n  id: string;\n  fromProp?: boolean;\n}> = ({ id, fromProp }) => {\n  return <LRender id={id} fromProp={fromProp} />;\n};\n\nexport const LTextInternal: FC<{\n  className: any;\n  p: PG;\n  item: IText;\n  _children: any;\n}> = ({ className, item, _children }) => {\n  return (\n    <div\n      id={`text-${item.id}`}\n      className={cx(\n        className,\n        css`\n          outline: none;\n          min-width: 3px !important;\n          min-height: 10px !important;\n        `\n      )}\n      dangerouslySetInnerHTML={{ __html: _children || \"\" }}\n    />\n  );\n};\n","import { createRouter } from \"radix3\";\nimport { validate } from \"uuid\";\nimport { type apiClient } from \"web-utils\";\nimport {\n  createAPI,\n  createDB,\n  initApi,\n  reloadDBAPI,\n} from \"../../../utils/script/init-api\";\nimport importModule from \"../../editor/tools/dynamic-import\";\nimport { LSite, PG } from \"./global\";\nimport { validateLayout } from \"./layout\";\n\nexport const w = window as unknown as {\n  basepath: string;\n  navigateOverride: (s: string) => string;\n  isEditor: boolean;\n  isMobile: boolean;\n  isLayout: boolean;\n  apiHeaders: any;\n  isDesktop: boolean;\n  exports: any;\n  params: any;\n  apiClient: typeof apiClient;\n  apiurl: string;\n  preload: (path: string) => void;\n\n  externalAPI: {\n    mode: \"dev\" | \"prod\";\n    devUrl: string;\n    prodUrl: string;\n  };\n};\n\nexport const initLive = async (p: PG, domain: string) => {\n  if (p.status === \"init\") {\n    p.status = \"loading\";\n\n    w.isEditor = false;\n    w.isLayout = true;\n    w.isMobile = p.mode === \"mobile\";\n    w.isDesktop = p.mode === \"desktop\";\n    w.apiHeaders = {};\n\n    w.navigateOverride = (_href) => {\n      if (_href.startsWith(\"/\")) {\n        if (w.basepath.length > 1) {\n          _href = `${w.basepath}${_href}`;\n        }\n        if (\n          location.hostname === \"prasi.app\" ||\n          location.hostname === \"localhost\" ||\n          location.hostname === \"127.0.0.1\" ||\n          location.hostname === \"10.0.2.2\" // android localhost\n        ) {\n          if (\n            location.pathname.startsWith(\"/live\") &&\n            !_href.startsWith(\"/live\")\n          ) {\n            const patharr = location.pathname.split(\"/\");\n            _href = `/live/${patharr[2]}${_href}`;\n          }\n        }\n      }\n      return _href;\n    };\n\n    /** load site */\n    let site = null as null | LSite;\n    if (!p.prod) {\n      try {\n        site = JSON.parse(localStorage.getItem(`prasi-site-${domain}`) || \"\");\n      } catch (e) {}\n\n      if (!site) {\n        site = await p.loader.site(\n          p,\n          validate(domain) ? { id: domain } : { domain }\n        );\n        localStorage.setItem(`prasi-site-${domain}`, JSON.stringify(site));\n      } else {\n        p.loader\n          .site(p, validate(domain) ? { id: domain } : { domain })\n          .then((site) => {\n            localStorage.setItem(`prasi-site-${domain}`, JSON.stringify(site));\n          });\n      }\n    } else {\n      site = await p.loader.site(\n        p,\n        validate(domain) ? { id: domain } : { domain }\n      );\n    }\n\n    if (site) {\n      /** import site module */\n      w.exports = {};\n\n      if (site.cgroup_ids) {\n        for (const id of site.cgroup_ids) {\n          await importModule(p.loader.npm(p, \"site\", id));\n        }\n      }\n\n      await importModule(p.loader.npm(p, \"site\", site.id));\n\n      p.site.id = site.id;\n      p.site.layout = site.layout;\n      p.site.js = site.js_compiled || \"\";\n      p.site.responsive = site.responsive as any;\n\n      await validateLayout(p);\n\n      if (p.prod) {\n        p.site.api_url = await initApi(site.config, \"prod\");\n      } else {\n        w.externalAPI = {\n          mode: (localStorage.getItem(`prasi-ext-api-mode-${p.site.id}`) ||\n            \"prod\") as any,\n          devUrl: localStorage.getItem(`prasi-ext-dev-url-${p.site.id}`) || \"\",\n          prodUrl:\n            localStorage.getItem(`prasi-ext-prod-url-${p.site.id}`) || \"\",\n        };\n        p.site.api_url = await initApi(site.config);\n\n        if (w.externalAPI.prodUrl !== p.site.api_url) {\n          w.externalAPI.prodUrl = p.site.api_url;\n          localStorage.setItem(\n            `prasi-ext-prod-url-${p.site.id}`,\n            p.site.api_url\n          );\n        }\n        if (w.externalAPI.mode === \"dev\" && w.externalAPI.devUrl) {\n          p.site.api_url = w.externalAPI.devUrl;\n          await reloadDBAPI(w.externalAPI.devUrl, \"dev\");\n        }\n      }\n      w.apiurl = p.site.api_url;\n\n      let pages = [];\n      if (!p.prod) {\n        /** load pages */\n        const pagesLocal = localStorage.getItem(`prasi-pages-[${domain}]`);\n        if (pagesLocal) {\n          try {\n            pages = JSON.parse(pagesLocal);\n          } catch (e) {}\n        }\n\n        if (pages.length === 0) {\n          pages = await p.loader.pages(p, site.id);\n          localStorage.setItem(\n            `prasi-pages-[${domain}]`,\n            JSON.stringify(pages)\n          );\n        } else {\n          p.loader.pages(p, site.id).then((pages) => {\n            localStorage.setItem(\n              `prasi-pages-[${domain}]`,\n              JSON.stringify(pages)\n            );\n          });\n        }\n      } else {\n        pages = await p.loader.pages(p, site.id);\n      }\n\n      /** execute site module */\n      const exec = (fn: string, scopes: any) => {\n        if (p) {\n          scopes[\"api\"] = createAPI(p.site.api_url);\n          scopes[\"db\"] = createDB(p.site.api_url);\n          scopes.params = w.params;\n          scopes.module = {};\n          const f = new Function(...Object.keys(scopes), fn);\n          const res = f(...Object.values(scopes));\n          return res;\n        }\n        return null;\n      };\n      const scope = {\n        types: {},\n        exports: w.exports,\n        load: importModule,\n        render: p.render,\n        module: {\n          exports: {} as any,\n        },\n      };\n      exec(p.site.js, scope);\n      if (scope.module.exports) {\n        for (const [k, v] of Object.entries(scope.module.exports)) {\n          w.exports[k] = v;\n        }\n      }\n\n      /** create router */\n      p.route = createRouter({ strictTrailingSlash: false });\n      if (pages && pages.length > 0) {\n        for (const page of pages) {\n          p.route.insert(page.url, page);\n        }\n      }\n\n      p.status = \"ready\";\n      p.render();\n    } else {\n      p.status = \"not-found\";\n      p.render();\n    }\n  }\n};\n","import { FC, ReactElement, ReactNode } from \"react\";\nimport { createRouter } from \"radix3\";\nimport { CompDoc } from \"../../../base/global/content-editor\";\nimport { IContent, MContent, MPage } from \"../../../utils/types/general\";\nimport { IItem, MItem } from \"../../../utils/types/item\";\nimport { FNCompDef } from \"../../../utils/types/meta-fn\";\nimport { PRASI_COMPONENT } from \"../../../utils/types/render\";\nimport { IRoot } from \"../../../utils/types/root\";\nimport { LSite } from \"../../live/logic/global\";\nimport { ISection } from \"../../../utils/types/section\";\nimport { IText } from \"../../../utils/types/text\";\n\nexport type WithRequired<T, K extends keyof T> = T & { [P in K]-?: T[P] };\nexport type NodeMeta = { meta: ItemMeta; idx: number };\nexport type ItemMeta = {\n  mitem?: MContent;\n  item: IContent;\n  parent_id: string;\n  parent_comp?: WithRequired<ItemMeta, \"comp\"> & { item: IItem };\n  parent_prop?: ItemMeta;\n  scope?: any;\n  scopeAttached?: { meta: ItemMeta; value: any }[];\n  className: string;\n  elprop: any;\n  depth: number;\n  memoize?: {\n    Local: FC<any>;\n    PassProp: FC<any>;\n  };\n  comp?: {\n    id: string;\n    mcomp?: MItem;\n    propval?: any;\n    propvis?: Record<string, boolean>;\n    child_ids: Record<string, string>;\n  };\n};\n\nexport const EditorGlobal = {\n  /** ui */\n  mode: \"\" as \"desktop\" | \"mobile\",\n  status: \"init\" as\n    | \"init\"\n    | \"loading\"\n    | \"reload\"\n    | \"ready\"\n    | \"not-found\"\n    | \"error\"\n    | \"tree-rebuild\",\n  focused: \"\",\n  pendingRebuild: false,\n  localReloading: {} as Record<string, true>,\n  manager: {\n    page: false,\n    site: false,\n    comp: false,\n    compActionLabel: \"Pick\",\n    compCallback: (comp: any) => {},\n    compPreviewRendered: new Set<string>(),\n  },\n  script: {\n    siteActive: false,\n    siteTypes: {},\n    prop: null as null | {\n      name: string;\n      mode:\n        | \"instance\"\n        | \"master-value\"\n        | \"master-option\"\n        | \"master-visible\"\n        | \"master-gen\";\n    },\n    toolbar: null as ReactNode,\n    active: false,\n    type: \"js\" as \"js\" | \"css\" | \"html\",\n    db: null as any,\n    api: null as any,\n    onClose: undefined as undefined | (() => void),\n    doEdit: null as null | ((newval: string, all?: boolean) => Promise<void>),\n  },\n  item: {\n    active: \"\",\n    activeOriginalId: \"\",\n    hover: \"\",\n    sideHover: false,\n    selectMode: \"single\" as \"single\" | \"multi\",\n    selection: [] as string[],\n    copy: {\n      mode: \"single\" as \"single\" | \"multiple\",\n    },\n  },\n  preventTreeScroll: false,\n  softRender: {\n    tree: () => {},\n    page: () => {},\n    side: () => {},\n    addEl: () => {},\n    topR: () => {},\n    all() {\n      this.tree();\n      this.page();\n      this.side();\n      this.addEl();\n      this.topR();\n    },\n  },\n\n  /**  read-only */\n  session: { id: \"\", data: { user: { id: \"\", username: \"\" } } },\n  lsite: null as any,\n  site: {\n    id: \"\",\n    api_url: \"\",\n    api_prasi: {\n      port: \"\",\n      db: \"\",\n    },\n    responsive: \"all\" as \"all\" | \"mobile-only\" | \"desktop-only\",\n    domain: \"\",\n    name: \"\",\n    js: \"\",\n    js_compiled: \"\",\n  } as LSite,\n\n  layout: {\n    section: null as null | ISection,\n    content: null as null | IItem | IText,\n  },\n\n  site_dts: \"\",\n  page: null as null | {\n    id: string;\n    name: string;\n    url: string;\n    content_tree: IRoot;\n    js: string;\n    effects?: Record<string, boolean>;\n  },\n\n  /** content tree */\n  treeFlat: [] as {\n    id: string;\n    parent: string;\n    text: string;\n    data: { meta: ItemMeta; idx: number };\n  }[],\n  treeFlatTemp: [] as {\n    id: string;\n    parent: string;\n    text: string;\n    data: { meta: ItemMeta; idx: number };\n  }[],\n  treeMeta: {} as Record<string, ItemMeta>,\n\n  /** components */\n  comp: null as null | {\n    id: string;\n    instance_id?: string;\n    last: {\n      comp_id?: string;\n      active_id: string;\n      active_oid?: string;\n      instance_id?: string;\n      props?: Record<string, FNCompDef>;\n    }[];\n    props: Record<string, FNCompDef>;\n  },\n  comps: {\n    pending: {} as Record<string, Promise<PRASI_COMPONENT>>,\n    resolve: {} as Record<string, (comp: PRASI_COMPONENT) => void>,\n    doc: {} as Record<string, CompDoc>,\n  },\n  compProp: {\n    backToInstance: false,\n    edit: false,\n    inherit: true,\n  },\n  compDirectEdit: false,\n  compLoading: {} as Record<string, true>,\n  compInstance: {} as Record<string, Record<string, string>>,\n\n  /** routing */\n  pagePreload: {} as Record<string, true>,\n  route: createRouter<{\n    id: string;\n    url: string;\n  }>(),\n\n  /** write-only */\n  mpage: null as null | MPage,\n  mpageLoaded: null as null | ((mpage: MPage) => void),\n\n  /** connection */\n  ws: null as null | WebSocket,\n  wsPing: -1,\n  wsPingTs: 0,\n  wsPingInterval: null as any,\n  wsRetry: {\n    fast: false,\n    localIP: false,\n    disabled: false,\n    reconnecting: false,\n  },\n  ui: {\n    loading: null as null | ReactElement,\n    preload: null as null | ReactElement,\n    notfound: null as null | ReactElement,\n    error: null as null | ReactElement,\n  },\n};\n\nexport type PG = typeof EditorGlobal & { render: () => void };\n"],"names":[],"version":3,"file":"live.7c683dce.js.map"}